
<html>
<head>
    <title>SRS</title>
    <meta charset="utf-8">
    <style>
        .span6 {
            width: 480px;
        }
        .code {
            background-color: rgb(246 248 250);
            padding: 8px;
            overflow: auto;
            font-size: 85%;
            line-height: 1.45;
            border-radius: 6px;
            word-break: normal;
            word-wrap: normal;
            box-sizing: border-box;
            display: block;
            white-space: pre;
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        // Build RTMP url.
        if (true) {
            const rtmpUrl = `rtmp://${window.location.hostname}/live/livestream`;
            document.getElementById('url').innerText = rtmpUrl;
        }

        // Build console url.
        if (true) {
            // The prefix for default website.
            const prefix = `${window.location.protocol}//${window.location.host}`;
            // If not 8080, user should proxy to the default port.
            const query = parseInt(window.location.port) === 8080 ? `?port=1985` : '';
            const enUrl = `${prefix}/console/en_index.html#/summaries${query}`;
            const cnUrl = `${prefix}/console/ng_index.html#/summaries${query}`;
            document.getElementById("enConsole").setAttribute('href', enUrl);
            document.getElementById("cnConsole").setAttribute('href', cnUrl);
        }

        // The player url.
        if (true) {
            const prefix = `players/?schema=${window.location.protocol.replace(':', '')}`;
            const httpPort = window.location.port || (window.location.protocol === 'http:' ? 80 : 443);
            // If not 8080, user should proxy both stream and API to the default port.
            const query = parseInt(window.location.port) === 8080 ? '' : `&port=${httpPort}&api=${httpPort}`;
            document.getElementById("enPlayer").setAttribute('href', `${prefix}${query}`);
            document.getElementById("cnPlayer").setAttribute('href', `${prefix}${query}`);
        }
    </script>
</body>
